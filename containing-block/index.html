<!DOCTYPE HTML>
<html>
<head>
    <title>Containing block</title>
    <link rel="stylesheet" type="text/css" href="../common.css">
    <link rel="stylesheet" type="text/css" href="../css-testing-component/css-testing-component.css">
    <style>
        .absolute-test-el {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            outline: 2px dashed red;
            opacity: 0.5;
        }
    </style>
</head>
<body>
<h1>Containing block</h1>
<p class="example-description">
    Reference: <a href="https://www.w3.org/TR/CSS22/visudet.html#containing-block-details">CSS 2.2 Visual formatting
    model details - Definition of "containing block"</a>
</p>
<ol>
    <li><a href="#initial-containing-block">Initial containing block</a></li>
    <li><a href="#static-relative-sticky">Elements with position: static, relative & sticky</a></li>
    <li><a href="#fixed">Elements with position: fixed</a></li>
    <li><a href="#absolute">Elements with position: absolute</a></li>
</ol>

<p class="example-description">
    Many properties in CSS are calculated according to a box's containing block. How to calculate this block is
    described here.
</p>

<h2 id="initial-containing-block">Initial containing block</h2>
<p class="example-description">
    The <b>initial containing block</b> has the position and size of the viewport. The root element's containing
    block is the initial containing block.
</p>
<div class="example-initial-containing-block"></div>

<h2 id="static-relative-sticky">Elements with position: static, relative & sticky</h2>
<p class="example-description">
    For elements with a <code>position</code> of <code>static</code>, <code>relative</code> or <code>sticky</code> the
    containing block is formed by the nearest ancestor which either:
</p>
<ul>
    <li>Is a <a href="../visual-formatting-model/index.html#box-generation-terms">block container</a></li>
    <li>
        <a href="../visual-formatting-model/index.html#normal-flow-formatting-context-established">
            Establishes a formatting context</a> (note anything that establishes a block or inline formatting context
        is always a block container, so this criteria doesn't apply. This applies for things like table, grid, flex or
        ruby perhaps?)
    </li>
</ul>
<div class="example-static-relative-sticky"></div>

<h2 id="fixed">Elements with position: fixed</h2>
<p class="example-description">
    For elements with a <code>position</code> of <code>fixed</code> the containing block is the initial containing block:
</p>
<div class="example-fixed"></div>

<h2 id="absolute">Elements with position: absolute</h2>
<p class="example-description">
    For elements with a <code>position</code> of <code>absolute</code>, the containing block is formed by the nearest
    ancestor that has a position of <code>absolute</code>, <code>relative</code> or <code>fixed</code>. There are two
    situations:
</p>
<ol>
    <li>
        The ancestor is an inline element, then the containing block is the bounding block around the padding of the
        first and last inline boxes generated for the element. If the inline box spans multiple lines the containing
        block is undefined.
    </li>
    <li>All other cases the containing block is formed by the padding edge of the ancestor.</li>
</ol>
<div class="example-absolute"></div>
</body>
<script src="../css-testing-component/lib/ace/src-noconflict/ace.js"></script>
<script src="../css-testing-component/css-testing-component.js"></script>
<script src="../nav.js"></script>
<script>createNav()</script>
<script src="index.js"></script>
</html>