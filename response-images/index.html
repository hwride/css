<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Response images with srcset and sizes</title>
    <link rel="stylesheet" type="text/css" href="../common/common.css">
    <link rel="stylesheet" type="text/css" href="srcset-sizes/srcset-sizes.css">
    <script src="../common/headers.js"></script>
</head>
<body>
<h1>Response images with srcset and sizes</h1>
<ul>
    <li><a href="#references">References</a></li>
    <li><a href="#general-notes">General notes</a></li>
    <li><a href="#examples">Examples</a></li>
    <li><a href="#results">Results</a></li>
</ul>

<h2 id="references">References</h2>
<ul>
    <li>
        <a href="https://jakearchibald.com/2015/anatomy-of-responsive-images/">
            Jake Archibald - The anatomy of responsive images
        </a>
    </li>
    <li><a href="https://caniuse.com/srcset">caniuse - srcset and sizes</a> (supported in all latest browsers)</li>
    <li><a href="https://caniuse.com/picture">caniuse - picture</a> (supported in all latest browsers)</li>
    <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset">HTML specification</a>
    </li>
    <li>
        <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=788105">
            Chromium bug discussing the Blink engine implementation of choosing from srcset
        </a>
    </li>
</ul>

<h2 id="general-notes">General notes</h2>
<ul>
    <li>
        DevTools device size and DPR emulation can give inaccurate results when testing responsive images. You're better
        off testing by resizing the actual browser window and getting real devices with different DPRs.
    </li>
    <li>
        The zoom level can affect device pixel ratio. If you notice the device pixel ratio isn't what you expect check
        if you're zoomed in.
    </li>
    <li>
        The OS settings can affect the device pixel ratio. For example in Windows under "Display / Scale & Layout /
        Change the size of text, apps, and other items" you can set the text size to be greater than 100%. This causes
        the device pixel ratio to increase a proportionate amount.
    </li>
    <li>
        If you use the multiple responsive images on the same page, and they load the same images, it appears that
        Chrome
        will cache the results and re-use them if possible. For example if you had an image with this srcset:
        <code>srcset="600x600.png 1x, 1200x1200.png 2x, 1500x1500.png 3x"</code> on a device with a DPR of 1, you would
        expect it to load the 600x600.png image. But, if another image has loaded 1500x1500.png, that will be used
        instead,
        presumably as it is higher quality and is loaded anyway for the other image.
    </li>
</ul>

<h2 id="examples">Examples</h2>
<ul>
    <li><a href="max-width/max-width.html">Using <code>max-width: 100%</code> for responsive images</a></li>
    <li>
        <code>srcset</code> and <code>sizes</code>
        <ul>
            <li><a href="srcset-sizes/srcset-pixel-density-descriptors.html"><code>srcset</code> with pixel
                density descriptors</a></li>
            <li><a href="srcset-sizes/srcset-width-srcset-sizes.html"><code>srcset</code> and
                <code>sizes</code> attribute</a></li>
            <li><a href="srcset-sizes/srcset-width-descriptors.html"><code>srcset</code> with width
                descriptors, but no sizes</a></li>
        </ul>
    </li>
    <li>
        <code>picture</code>
    </li>
    <li><a href="picture/picture.html">Art direction</a></li>
    <li><a href="picture/picture-with-image-type-fallbacks.html">Multiple image types support</a></li>
</ul>

<!-- Results -->
<div id="results">
    <h2>
        Results
    </h2>
    <p class="example-description">
        Here is a recording of the images that were loaded for various device, browser and window sizes combinations
        for the examples above.
    </p>
    <table class="results-table">
        <thead>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<h3>Notes</h3>
<ul class="results-notes">
    <li>
        <sup class="iphone-sup-num"></sup> See the
        <a href="srcset-sizes/srcset-width-srcset-sizes.html#srcset-sizes-worked-example">worked example</a> for
        details on why this value was chosen.
    </li>
    <li>
        <sup class="moto-srcset-sizes-sup-num"></sup> The moto e(7i) power + Samsung Internet
        selects a 1200px image for <code>srcset</code> and <code>sizes</code>. Here what I'd actually expect is:
        <code>(min-width: 300px) 300px</code> matches. 300 CSS pixels * 1.75 DPR = 525 device pixels.
        Match the <code>600x600.png 600w</code> image. This is what both Chrome and Firefox do.
    </li>
</ul>
</body>
<script src="../common/nav.js"></script>
<script>createNav()</script>
<script src="srcset-sizes/srcset-sizes-results.js"></script>
<script src="srcset-sizes/srcset-sizes.js"></script>
</html>
